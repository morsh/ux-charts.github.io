"use strict";(self.webpackChunkpowerbi_clients=self.webpackChunkpowerbi_clients||[]).push([[924],{"./trident/libs/ux-charts/src/lib/fabric-bar-chart/fabric-bar-chart.stories.ts":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.BarChartOptions=void 0;const common_1=__webpack_require__("./node_modules/.pnpm/@angular+common@16.2.12_@angular+core@16.2.12_rxjs@6.6.7/node_modules/@angular/common/fesm2022/common.mjs"),angular_1=__webpack_require__("./node_modules/.pnpm/@storybook+angular@7.5.3_@angular-devkit+architect@0.1602.13_@angular-devkit+build-angular@16_evdpuco6fj25d2slin6wxkzyfy/node_modules/@storybook/angular/dist/index.mjs"),fabric_bar_chart_1=__webpack_require__("./trident/libs/ux-charts/src/lib/fabric-bar-chart/fabric-bar-chart.ts"),mock_data_1=__webpack_require__("./trident/libs/ux-charts/src/lib/mock-data.ts"),injec_load_script_1=__webpack_require__("./trident/libs/ux-charts/src/lib/injec-load-script.ts"),colors_1=__webpack_require__("./trident/libs/ux-charts/src/lib/colors.ts");(0,fabric_bar_chart_1.registerFabricBarChart)();const options={barChart1:{axis:{y:{hideLine:!0}}},barChart2:{axis:{x:{hideLabels:!0}}},barChart3:{axis:{x:{hideLabels:!0}},legend:{}},barChart4:{axis:{y:{ticks:6}}},barChart5:{axis:{y:{ticks:6,valueLines:6}}},barChart6:{axis:{y:{ticks:6,valueLines:6,maxValue:100}}},barChart7:{axis:{y:{ticks:6,valueLines:6}},grouped:!0,legend:{placeItems:"sequence"}},barChart8:{axis:{y:{ticks:6,valueLines:6},x:{tickWidth:40}},colors:[colors_1.Colors.PrimaryFluentDataVizSlot1]}},datas={barChart1:mock_data_1.MockEndorsementData,barChart2:mock_data_1.MockEndorsementData,barChart3:mock_data_1.MockEndorsementData,barChart4:mock_data_1.MockEndorsementData,barChart5:mock_data_1.MockEndorsementData,barChart6:mock_data_1.MockTagsPerItem,barChart7:mock_data_1.MockLabelsPerItem,barChart8:mock_data_1.ItemsByType},LoadComponent=(0,injec_load_script_1.injectLoadScript)((()=>{setTimeout((()=>{document.querySelectorAll("fabric-bar-chart").forEach(((fabricBarChart,index)=>{options[fabricBarChart.id]&&(fabricBarChart.data=datas[fabricBarChart.id],fabricBarChart.options=options[fabricBarChart.id],fabricBarChart.redraw())}))}),100)}));exports.default={title:"Components/fabric-bar-chart",decorators:[(0,angular_1.moduleMetadata)({imports:[common_1.CommonModule,LoadComponent]})]};exports.BarChartOptions=()=>({template:'\n    <div style="display: flex; flex-direction: row; flex-wrap: wrap;">\n        <div>\n            <h3>Hide Y Axis</h3>\n            <div style="width: 383px; height: 180px;">\n                <fabric-bar-chart id="barChart1" />\n            </div>\n        </div>\n        <div>\n            <h3>Hide X Labels</h3>\n            <div style="width: 383px; height: 180px;">\n                <fabric-bar-chart id="barChart2" />\n            </div>\n        </div>\n        <div>\n            <h3>Show Legend</h3>\n            <div style="width: 383px; height: 180px;">\n                <fabric-bar-chart id="barChart3" />\n            </div>\n        </div>\n        <div>\n            <h3>With 6 Ticks</h3>\n            <div style="width: 383px; height: 180px;">\n                <fabric-bar-chart id="barChart4" />\n            </div>\n        </div>\n        <div>\n            <h3>With 6 Value lines</h3>\n            <div style="width: 383px; height: 180px;">\n                <fabric-bar-chart id="barChart5" />\n            </div>\n        </div>\n        <div>\n            <h3>Grouped Bar Chart</h3>\n            <div style="width: 383px; height: 180px;">\n                <fabric-bar-chart id="barChart6" />\n            </div>\n        </div>\n        <div>\n            <h3>Grouped Bar Chart</h3>\n            <div style="width: 383px; height: 180px;">\n                <fabric-bar-chart id="barChart7" />\n            </div>\n        </div>\n        <div>\n            <h3>Single Color Chart</h3>\n            <div style="width: 383px; height: 180px;">\n                <fabric-bar-chart id="barChart8" />\n            </div>\n        </div>\n    </div>\n    <load-script />\n    '})},"./trident/libs/ux-charts/src/lib/colors.ts":(__unused_webpack_module,exports)=>{var Colors;Object.defineProperty(exports,"__esModule",{value:!0}),exports.BarsDataRange=exports.Colors=void 0,function(Colors){Colors.PrimaryFluentDataVizSlot1="#637CEF",Colors.PrimaryFluentDataVizSlot2="#E3008C",Colors.PrimaryFluentDataVizSlot3="#2AA0A4",Colors.PrimaryFluentDataVizSlot4="#9373C0",Colors.PrimaryFluentDataVizSlot5="#3B52B4",Colors.PrimaryFluentDataVizSlot6="#B146C2",Colors.PrimaryFluentDataVizSlot7="#13A10E",Colors.PrimaryFluentDataVizSlot8="#14A3B3",Colors.PrimaryFluentDataVizSlot9="#689920",Colors.PrimaryFluentDataVizSlot10="#B27C00",Colors.PrimaryFluentDataVizNeutral1="#E0E0E0",Colors.PrimaryFluentDataVizNeutral2="#EBEBEB",Colors.NeutralWebGrey160="#323130"}(Colors||(exports.Colors=Colors={})),exports.BarsDataRange=[Colors.PrimaryFluentDataVizSlot1,Colors.PrimaryFluentDataVizSlot2,Colors.PrimaryFluentDataVizSlot3,Colors.PrimaryFluentDataVizSlot4,Colors.PrimaryFluentDataVizSlot5,Colors.PrimaryFluentDataVizSlot6,Colors.PrimaryFluentDataVizSlot7,Colors.PrimaryFluentDataVizSlot8,Colors.PrimaryFluentDataVizSlot9,Colors.PrimaryFluentDataVizSlot10]},"./trident/libs/ux-charts/src/lib/d3-utils/text-wrap.ts":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.createTextWrap=void 0;exports.createTextWrap=(width,padding)=>function textWrap(){const self=d3.select(this);let textLength=self.node().getComputedTextLength(),text=self.text();for(;textLength>width-2*padding&&text.length>0;)text=text.slice(0,-1),self.text(text+"..."),textLength=self.node().getComputedTextLength()}},"./trident/libs/ux-charts/src/lib/fabric-bar-chart/fabric-bar-chart.ts":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.registerFabricBarChart=exports.FabricBarChart=void 0;const colors_1=__webpack_require__("./trident/libs/ux-charts/src/lib/colors.ts"),text_wrap_1=__webpack_require__("./trident/libs/ux-charts/src/lib/d3-utils/text-wrap.ts"),fabric_legend_1=__webpack_require__("./trident/libs/ux-charts/src/lib/fabric-legend/fabric-legend.ts"),margins_1=__webpack_require__("./trident/libs/ux-charts/src/lib/positioning/margins.ts");class FabricBarChart extends HTMLElement{constructor(){super(...arguments),this.margin=margins_1.Margins.BarChart,this._data=[],this._options={}}get widthMargin(){return this.margin.left+this.margin.right}get heightMargin(){return this.margin.top+this.margin.bottom}set data(value){this._data=value,this.redraw()}get data(){return this._data}get options(){return this._options}set options(options){this._options=options,this.redraw()}connectedCallback(){const style=document.createElement("style");style.textContent=`\n            .fabric-bar-graph {\n                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n                font-size: 12px;\n                font-weight: 400;\n                color: ${colors_1.Colors.NeutralWebGrey160};\n                margin: 0;\n                padding: 0;\n            }\n\n            .fabric-bar-graph .legend {\n                fill: ${colors_1.Colors.NeutralWebGrey160};\n                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n                font-size: 12px;\n            }\n        `,this.wrapper=document.createElement("figure"),this.wrapper.setAttribute("class","fabric-bar-graph"),this.appendChild(style),this.appendChild(this.wrapper),window.addEventListener("resize",(()=>this.redraw())),this.redraw()}redraw(){this.width=this.parentElement.clientWidth-this.widthMargin,this.height=this.parentElement.clientHeight-this.heightMargin,this.wrapper.innerHTML="",this.createSvg(this.wrapper),this.drawBars(this.data)}createSvg(wrapper){this.svg=d3.select(wrapper).append("svg").attr("width",this.width+this.widthMargin).attr("height",this.height+this.heightMargin).append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")")}drawBars(data){var _a,_b,_c,_e,_f,_g,_h,_j,_k,_l;const options=this.options,isGrouped=function isDataGrouped(data,grouped){return!!grouped}(0,options.grouped),chartHeight=options.legend?this.height-20:this.height;this.x0=d3.scaleBand().range([0,this.width]).domain(data.map((d=>d.key))).padding(.2);const xAxis=d3.axisBottom(this.x0),drawXAxis=()=>{var _a,_b;this.svg.append("g").attr("transform","translate(0,"+chartHeight+")").call(xAxis.tickValues(data.map((d=>d.key)))).selectAll("text").each((0,text_wrap_1.createTextWrap)((null===(_b=null===(_a=options.axis)||void 0===_a?void 0:_a.x)||void 0===_b?void 0:_b.tickWidth)||50,.2))};(null===(_b=null===(_a=options.axis)||void 0===_a?void 0:_a.x)||void 0===_b?void 0:_b.hideLabels)||drawXAxis();const maxValue=(null===(_e=null===(_c=options.axis)||void 0===_c?void 0:_c.y)||void 0===_e?void 0:_e.maxValue)||Math.max(...(isGrouped?data.flatMap((({values})=>values.map((({name,value})=>({key:name,value}))))):data).map((d=>d.value)));this.y=d3.scaleLinear().domain([0,maxValue]).range([chartHeight,0]);const color=d3.scaleOrdinal(options.colors||colors_1.BarsDataRange);if(isGrouped){this.x1=d3.scaleBand();const groupedNames=data.map((d=>d.key)),groups=data[0].values.map((d=>d.name));this.x0.domain(groupedNames),this.x1.domain(groups).rangeRound([0,this.x0.bandwidth()])}const ticks=(null===(_g=null===(_f=options.axis)||void 0===_f?void 0:_f.y)||void 0===_g?void 0:_g.ticks)||10,yAxis=d3.axisLeft(this.y);this.svg.append("g").attr("class","y axis").style("opacity",0).call(yAxis.ticks(ticks)).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").style("font-weight","bold").text("Value"),(null===(_j=null===(_h=options.axis)||void 0===_h?void 0:_h.y)||void 0===_j?void 0:_j.hideLine)||this.svg.select(".y").transition().duration(500).delay(1300).style("opacity","1");const addValueLines=valueLines=>{const values=[...Array(valueLines).keys()].map(((_,i)=>(maxValue-0)/(valueLines-1)*i));this.svg.selectAll(".value-line").data(values).enter().append("line").attr("class","value-line").style("stroke",colors_1.Colors.PrimaryFluentDataVizNeutral2).style("stroke-width",1).attr("x1",0).attr("y1",(d=>this.y(d))).attr("x2",this.width).attr("y2",(d=>this.y(d)))};if((null===(_l=null===(_k=options.axis)||void 0===_k?void 0:_k.y)||void 0===_l?void 0:_l.valueLines)&&addValueLines(options.axis.y.valueLines),isGrouped){this.svg.selectAll(".slice").data(data).enter().append("g").attr("class","slice").attr("transform",(d=>"translate("+this.x0(d.key)+",0)")).selectAll("rect").data((d=>d.values)).enter().append("rect").attr("class","bar").attr("width",this.x1.bandwidth()).attr("x",(d=>this.x1(d.name))).style("fill",(d=>color(d.name))).attr("y",(_d=>this.y(0))).attr("height",(_d=>chartHeight-this.y(0)))}else this.svg.selectAll("bars").data(data).enter().append("rect").attr("class","bar").attr("x",(d=>this.x0(d.key)||0)).attr("y",(d=>this.y(0))).attr("width",this.x0.bandwidth()).attr("height",(d=>chartHeight-this.y(0))).attr("fill",(d=>color(d.key)));(()=>{this.svg.selectAll("rect.bar").transition().delay((d=>1e3*Math.random())).duration(1e3).attr("y",(d=>this.y(d.value))).attr("height",(d=>chartHeight-this.y(d.value)))})(),options.legend&&(0,fabric_legend_1.createLegend)({svg:this.svg,data,offsetY:this.height,color,options:options.legend})}}exports.FabricBarChart=FabricBarChart,exports.registerFabricBarChart=function registerFabricBarChart(){void 0===customElements.get("fabric-bar-chart")&&customElements.define("fabric-bar-chart",FabricBarChart)}},"./trident/libs/ux-charts/src/lib/fabric-legend/fabric-legend.ts":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.createLegend=void 0;exports.createLegend=args=>{const svg=args.svg,options=Object.assign({placeItems:"disperse"},!0===args.options?{}:args.options),itemWidth=options.itemWidth||90,itemHeight=options.itemHeight||18,offsetX=args.offsetX||0,offsetY=args.offsetY||0,legend=svg.append("g").attr("class","legend-container").selectAll(".legend").data(args.data).enter().append("g").attr("class","legend").style("opacity","0");legend.append("rect").attr("width",10).attr("height",10).style("fill",(d=>args.color(d.key))),legend.append("text").attr("x",18).attr("y",10).text((d=>d.key));"sequence"===options.placeItems?(()=>{let totalWidth=0;svg.selectAll(".legend"),svg.selectAll(".legend").nodes().forEach(((node,i)=>{const x=totalWidth,width=node.getBoundingClientRect().width;totalWidth+=width+10,d3.select(node).attr("transform","translate("+offsetX+x+","+offsetY+")")}))})():(legend.attr("transform",((_,i)=>"translate("+i%4*itemWidth+","+Math.floor(i/4)*itemHeight+")")),legend.selectAll("rect,text").attr("transform","translate("+offsetX+","+offsetY+")")),legend.transition().duration(500).delay(((d,i)=>1300+100*i)).style("opacity","1")}},"./trident/libs/ux-charts/src/lib/injec-load-script.ts":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.injectLoadScript=void 0;const tslib_1=__webpack_require__("./node_modules/.pnpm/tslib@2.3.0/node_modules/tslib/tslib.es6.js"),common_1=__webpack_require__("./node_modules/.pnpm/@angular+common@16.2.12_@angular+core@16.2.12_rxjs@6.6.7/node_modules/@angular/common/fesm2022/common.mjs"),core_1=__webpack_require__("./node_modules/.pnpm/@angular+core@16.2.12_rxjs@6.6.7_zone.js@0.13.0/node_modules/@angular/core/fesm2022/core.mjs");exports.injectLoadScript=cb=>{let HeroListComponent=class HeroListComponent{constructor(){}ngOnInit(){cb()}};return HeroListComponent.ctorParameters=()=>[],HeroListComponent=tslib_1.__decorate([(0,core_1.Component)({standalone:!0,selector:"load-script",template:"",imports:[common_1.CommonModule]}),tslib_1.__metadata("design:paramtypes",[])],HeroListComponent),HeroListComponent}},"./trident/libs/ux-charts/src/lib/mock-data.ts":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.ItemsByType=exports.MockLabelsPerItem=exports.MockTagsPerItem=exports.MockEndorsementData=void 0,exports.MockEndorsementData=[{key:"Master Data",value:10,Released:"2014"},{key:"Certified",value:20,Released:"2013"},{key:"Promoted",value:38,Released:"2016"},{key:"None",value:100,Released:"2010"}],exports.MockTagsPerItem=[{key:"FY2025",value:2,Released:"2014"},{key:"L100",value:11,Released:"2013"},{key:"Q4-2024",value:8,Released:"2016"},{key:"Planning-Q3",value:17,Released:"2010"},{key:"Conf-OCt-2024",value:1,Released:"2010"},{key:"No tag",value:95,Released:"2010"}];exports.MockLabelsPerItem=[{key:"Semantic Model",group:"General",value:5},{key:"Semantic Model",group:"Confidential",value:1},{key:"Semantic Model",group:"Highly Confidential",value:1},{key:"Report",group:"General",value:3},{key:"Report",group:"Confidential",value:0},{key:"Report",group:"Highly Confidential",value:1},{key:"Lakehouse",group:"General",value:2},{key:"Lakehouse",group:"Confidential",value:5},{key:"Lakehouse",group:"Highly Confidential",value:1}].reduce(((acc,item)=>{const existing=acc.find((x=>x.key===item.key));return existing?existing.values.push({name:item.group,value:item.value}):acc.push({key:item.key,values:[{name:item.group,value:item.value}]}),acc}),[]),exports.ItemsByType=[{key:"Reports",value:50},{key:"Semantic models",value:35},{key:"Dashboard",value:15},{key:"Lakehouse",value:7},{key:"SQL analytics endpoint",value:5},{key:"Dataflows",value:5},{key:"Warehouse",value:3}]},"./trident/libs/ux-charts/src/lib/positioning/margins.ts":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.Margins=void 0,exports.Margins={BarChart:{top:10,right:0,bottom:20,left:30},PieChart:{top:10,right:0,bottom:20,left:30},ScoreCard:{top:10,right:0,bottom:10,left:0}}}}]);