"use strict";(self.webpackChunkpowerbi_clients=self.webpackChunkpowerbi_clients||[]).push([[488],{"./trident/libs/ux-charts/src/lib/fabric-pie-chart/fabric-pie-chart.stories.ts":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.pieChartOptions=void 0;const common_1=__webpack_require__("./node_modules/.pnpm/@angular+common@16.2.12_@angular+core@16.2.12_rxjs@6.6.7/node_modules/@angular/common/fesm2022/common.mjs"),angular_1=__webpack_require__("./node_modules/.pnpm/@storybook+angular@7.5.3_@angular-devkit+architect@0.1602.13_@angular-devkit+build-angular@16_evdpuco6fj25d2slin6wxkzyfy/node_modules/@storybook/angular/dist/index.mjs"),fabric_pie_chart_1=__webpack_require__("./trident/libs/ux-charts/src/lib/fabric-pie-chart/fabric-pie-chart.ts"),mock_data_1=__webpack_require__("./trident/libs/ux-charts/src/tests/mock-data.ts");(0,fabric_pie_chart_1.registerFabricPieChart)();const options={pieChart_pie1:{arcType:"semi",valuePostfix:"%"},pieChart_pie2:{arcType:"semi",valuePostfix:"%",legend:{}},pieChart_pie3:{arcType:"full",valuePostfix:"%"},pieChart_pie4:{arcType:"full",valuePostfix:"%",legend:{}},pieChart_donut1:{arcType:"semi",pieType:"donut",valuePostfix:"%"},pieChart_donut2:{arcType:"semi",pieType:"donut",valuePostfix:"%",legend:{}},pieChart_donut3:{arcType:"full",pieType:"donut",valuePostfix:"%"},pieChart_donut4:{arcType:"full",pieType:"donut",valuePostfix:"%",legend:{placeItems:"disperse"}}};exports.default={title:"Components/fabric-pie-chart",decorators:[(0,angular_1.moduleMetadata)({imports:[common_1.CommonModule]})]};exports.pieChartOptions=()=>({template:'\n    <div style="display: flex; flex-direction: row; flex-wrap: wrap; gap: 30px; justify-content: space-between;">\n        <div>\n            <h3>Semi Circle</h3>\n            <div style="width: 383px; height: 180px;">\n                <fabric-pie-chart id="pieChart_pie1" [data]=\'data\' [options]=\'options.pieChart_pie1\' />\n            </div>\n        </div>\n        <div>\n            <h3>Semi Circle + Legend</h3>\n            <div style="width: 383px; height: 180px;">\n                <fabric-pie-chart id="pieChart_pie2" [data]=\'data\' [options]=\'options.pieChart_pie2\' />\n            </div>\n        </div>\n        <div>\n            <h3>Full Circle</h3>\n            <div style="width: 383px; height: 180px;">\n                <fabric-pie-chart id="pieChart_pie3" [data]=\'data\' [options]=\'options.pieChart_pie3\' />\n            </div>\n        </div>\n        <div>\n            <h3>Full Circle + Legend</h3>\n            <div style="width: 383px; height: 180px;">\n                <fabric-pie-chart id="pieChart_pie4" [data]=\'data\' [options]=\'options.pieChart_pie4\' />\n            </div>\n        </div>\n\n        <div>\n            <h3>Semi Donut</h3>\n            <div style="width: 383px; height: 180px;">\n                <fabric-pie-chart id="pieChart_donut1" [data]=\'data\' [options]=\'options.pieChart_donut1\' />\n            </div>\n        </div>\n        <div>\n            <h3>Semi Donut + Legend</h3>\n            <div style="width: 383px; height: 180px;">\n                <fabric-pie-chart id="pieChart_donut2" [data]=\'data\' [options]=\'options.pieChart_donut2\' />\n            </div>\n        </div>\n        <div>\n            <h3>Full Donut</h3>\n            <div style="width: 383px; height: 180px;">\n                <fabric-pie-chart id="pieChart_donut3" [data]=\'data\' [options]=\'options.pieChart_donut3\' />\n            </div>\n        </div>\n        <div>\n            <h3>Full Donut + Legend</h3>\n            <div style="width: 383px; height: 180px;">\n                <fabric-pie-chart id="pieChart_donut4" [data]=\'data\' [options]=\'options.pieChart_donut4\' />\n            </div>\n        </div>\n    </div>\n    <load-script />\n    ',props:{data:mock_data_1.MockEndorsementData,options}})},"./trident/libs/ux-charts/src/lib/fabric-pie-chart/fabric-pie-chart.ts":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.registerFabricPieChart=exports.FabricPieChart=void 0;const colors_1=__webpack_require__("./trident/libs/ux-charts/src/lib/properties/colors.ts"),fabric_legend_1=__webpack_require__("./trident/libs/ux-charts/src/lib/fabric-legend/fabric-legend.ts"),margins_1=__webpack_require__("./trident/libs/ux-charts/src/lib/properties/margins.ts"),fabric_base_chart_1=__webpack_require__("./trident/libs/ux-charts/src/lib/fabric-base-chart/fabric-base-chart.ts"),fabric_pie_chart_types_1=__webpack_require__("./trident/libs/ux-charts/src/lib/fabric-pie-chart/fabric-pie-chart.types.ts");class FabricPieChart extends fabric_base_chart_1.FabricBaseChart{constructor(){super(...arguments),this.customTagName="fabric-pie-chart",this.margin=margins_1.ChartMargins.PieChart}getCenterOfRadius(){return{x:this.innerChartWidth/2,y:"semi"===this.options.arcType?this.innerChartHeight:this.innerChartHeight/2}}redrawChart(){const centerOfRadius=this.getCenterOfRadius(),PositionAtCenterOfRadius=`translate(${centerOfRadius.x},${centerOfRadius.y})`;this.createSvg().attr("transform",PositionAtCenterOfRadius).data([this.data]),this.drawArcs(this.data)}drawArcs(data){const centerOfRadius=this.getCenterOfRadius(),radius=Math.min(centerOfRadius.x,centerOfRadius.y),arcOuterSizeRadius=radius-20,labelRadiusAnchor=radius+5,arcInnerSizeRadius="donut"===this.options.pieType?"semi"===this.options.arcType?arcOuterSizeRadius-fabric_pie_chart_types_1.SemiDonutArcWidth:arcOuterSizeRadius-fabric_pie_chart_types_1.FullDonutArcWidth:fabric_pie_chart_types_1.FullPieInnerRadius,arc=d3.arc().cornerRadius(3).padAngle(.02).innerRadius(arcInnerSizeRadius).outerRadius(arcOuterSizeRadius),color=d3.scaleOrdinal(this.options.colors||colors_1.LightTheme),pie=d3.pie().value((d=>d.value));if("semi"===this.options.arcType){const CircleAngleCalculation=Math.PI/180;pie.startAngle(-90*CircleAngleCalculation).endAngle(90*CircleAngleCalculation)}const arcs=this.svg.selectAll(".slice").data(pie).enter().append("g").attr("transform","translate(0,0)").attr("class","slice");arcs.append("path").attr("fill",(d=>color(d.data.key))).attr("d",arc).transition().duration(1e3).attrTween("d",(d=>t=>{const interpolate=d3.interpolate({startAngle:0,endAngle:0},d);return arc(interpolate(t))}));if((()=>{arcs.append("text").attr("class","value-label").attr("fill","grey").attr("transform",(d=>{const c=arc.centroid(d),xp=c[0],yp=c[1],hp=Math.sqrt(xp*xp+yp*yp);return"translate("+xp/hp*labelRadiusAnchor+","+yp/hp*labelRadiusAnchor+")"})).attr("text-anchor","middle").append("tspan").text(((d,i)=>data[i].value+(this.options.valuePostfix||""))).attr("x","0").attr("dy","1.2em")})(),this.options.legend){const offsetX=-centerOfRadius.x+this.margin.left,offsetY=centerOfRadius.y+this.margin.top;(0,fabric_legend_1.createLegend)({svg:this.svg,data,options:this.options.legend,color,offsetX,offsetY})}}}exports.FabricPieChart=FabricPieChart,exports.registerFabricPieChart=function registerFabricPieChart(){void 0===customElements.get("fabric-pie-chart")&&customElements.define("fabric-pie-chart",FabricPieChart)}},"./trident/libs/ux-charts/src/lib/fabric-pie-chart/fabric-pie-chart.types.ts":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.FullPieInnerRadius=exports.FullDonutArcWidth=exports.SemiDonutArcWidth=void 0,exports.SemiDonutArcWidth=30,exports.FullDonutArcWidth=10,exports.FullPieInnerRadius=5}}]);