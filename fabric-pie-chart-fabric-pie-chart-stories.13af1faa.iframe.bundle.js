"use strict";(self.webpackChunkpowerbi_clients=self.webpackChunkpowerbi_clients||[]).push([[488],{"./trident/libs/ux-charts/src/lib/fabric-pie-chart/fabric-pie-chart.stories.ts":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.pieChartOptions=void 0;const common_1=__webpack_require__("./node_modules/.pnpm/@angular+common@16.2.12_@angular+core@16.2.12_rxjs@6.6.7/node_modules/@angular/common/fesm2022/common.mjs"),angular_1=__webpack_require__("./node_modules/.pnpm/@storybook+angular@7.5.3_@angular-devkit+architect@0.1602.13_@angular-devkit+build-angular@16_evdpuco6fj25d2slin6wxkzyfy/node_modules/@storybook/angular/dist/index.mjs"),fabric_pie_chart_1=__webpack_require__("./trident/libs/ux-charts/src/lib/fabric-pie-chart/fabric-pie-chart.ts"),mock_data_1=__webpack_require__("./trident/libs/ux-charts/src/lib/mock-data.ts"),injec_load_script_1=__webpack_require__("./trident/libs/ux-charts/src/lib/injec-load-script.ts");(0,fabric_pie_chart_1.registerFabricPieChart)();const options={pieChart_pie1:{arcType:"semi",valuePostfix:"%"},pieChart_pie2:{arcType:"semi",valuePostfix:"%",legend:{}},pieChart_pie3:{arcType:"full",valuePostfix:"%"},pieChart_pie4:{arcType:"full",valuePostfix:"%",legend:{}},pieChart_donut1:{arcType:"semi",pieType:"donut",valuePostfix:"%"},pieChart_donut2:{arcType:"semi",pieType:"donut",valuePostfix:"%",legend:{}},pieChart_donut3:{arcType:"full",pieType:"donut",valuePostfix:"%"},pieChart_donut4:{arcType:"full",pieType:"donut",valuePostfix:"%",legend:{}}},datas={pieChart_pie1:mock_data_1.MockEndorsementData,pieChart_pie2:mock_data_1.MockEndorsementData,pieChart_pie3:mock_data_1.MockEndorsementData,pieChart_pie4:mock_data_1.MockEndorsementData,pieChart_donut1:mock_data_1.MockEndorsementData,pieChart_donut2:mock_data_1.MockEndorsementData,pieChart_donut3:mock_data_1.MockEndorsementData,pieChart_donut4:mock_data_1.MockEndorsementData},LoadComponent=(0,injec_load_script_1.injectLoadScript)((()=>{setTimeout((()=>{document.querySelectorAll("fabric-pie-chart").forEach(((fabricpieChart,index)=>{options[fabricpieChart.id]&&(fabricpieChart.data=datas[fabricpieChart.id],fabricpieChart.options=options[fabricpieChart.id],fabricpieChart.redraw())}))}),100)}));exports.default={title:"Components/fabric-pie-chart",decorators:[(0,angular_1.moduleMetadata)({imports:[common_1.CommonModule,LoadComponent]})]};exports.pieChartOptions=()=>({template:'\n    <div style="display: flex; flex-direction: row; flex-wrap: wrap;">\n        <div>\n            <h3>Arc Chart</h3>\n            <div style="width: 383px; height: 180px;">\n                <fabric-pie-chart id="pieChart_pie1" />\n            </div>\n        </div>\n        <div>\n            <h3>With Legend</h3>\n            <div style="width: 383px; height: 180px;">\n                <fabric-pie-chart id="pieChart_pie2" />\n            </div>\n        </div>\n        <div>\n            <h3>Donut Chart</h3>\n            <div style="width: 383px; height: 180px;">\n                <fabric-pie-chart id="pieChart_pie3" />\n            </div>\n        </div>\n        <div>\n            <h3>Donut With Legend</h3>\n            <div style="width: 383px; height: 180px;">\n                <fabric-pie-chart id="pieChart_pie4" />\n            </div>\n        </div>\n\n        <div>\n            <h3>Arc Chart</h3>\n            <div style="width: 383px; height: 180px;">\n                <fabric-pie-chart id="pieChart_donut1" />\n            </div>\n        </div>\n        <div>\n            <h3>With Legend</h3>\n            <div style="width: 383px; height: 180px;">\n                <fabric-pie-chart id="pieChart_donut2" />\n            </div>\n        </div>\n        <div>\n            <h3>Donut Chart</h3>\n            <div style="width: 383px; height: 180px;">\n                <fabric-pie-chart id="pieChart_donut3" />\n            </div>\n        </div>\n        <div>\n            <h3>Donut With Legend</h3>\n            <div style="width: 383px; height: 180px;">\n                <fabric-pie-chart id="pieChart_donut4" />\n            </div>\n        </div>\n    </div>\n    <load-script />\n    '})},"./trident/libs/ux-charts/src/lib/colors.ts":(__unused_webpack_module,exports)=>{var Colors;Object.defineProperty(exports,"__esModule",{value:!0}),exports.BarsDataRange=exports.Colors=void 0,function(Colors){Colors.PrimaryFluentDataVizSlot1="#637CEF",Colors.PrimaryFluentDataVizSlot2="#E3008C",Colors.PrimaryFluentDataVizSlot3="#2AA0A4",Colors.PrimaryFluentDataVizSlot4="#9373C0",Colors.PrimaryFluentDataVizSlot5="#3B52B4",Colors.PrimaryFluentDataVizSlot6="#B146C2",Colors.PrimaryFluentDataVizSlot7="#13A10E",Colors.PrimaryFluentDataVizSlot8="#14A3B3",Colors.PrimaryFluentDataVizSlot9="#689920",Colors.PrimaryFluentDataVizSlot10="#B27C00",Colors.PrimaryFluentDataVizNeutral1="#E0E0E0",Colors.PrimaryFluentDataVizNeutral2="#EBEBEB",Colors.NeutralWebGrey160="#323130"}(Colors||(exports.Colors=Colors={})),exports.BarsDataRange=[Colors.PrimaryFluentDataVizSlot1,Colors.PrimaryFluentDataVizSlot2,Colors.PrimaryFluentDataVizSlot3,Colors.PrimaryFluentDataVizSlot4,Colors.PrimaryFluentDataVizSlot5,Colors.PrimaryFluentDataVizSlot6,Colors.PrimaryFluentDataVizSlot7,Colors.PrimaryFluentDataVizSlot8,Colors.PrimaryFluentDataVizSlot9,Colors.PrimaryFluentDataVizSlot10]},"./trident/libs/ux-charts/src/lib/fabric-legend/fabric-legend.ts":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.createLegend=void 0;exports.createLegend=args=>{const svg=args.svg,options=Object.assign({placeItems:"disperse"},!0===args.options?{}:args.options),itemWidth=options.itemWidth||90,itemHeight=options.itemHeight||18,offsetX=args.offsetX||0,offsetY=args.offsetY||0,legend=svg.append("g").attr("class","legend-container").selectAll(".legend").data(args.data).enter().append("g").attr("class","legend").style("opacity","0");legend.append("rect").attr("width",10).attr("height",10).style("fill",(d=>args.color(d.key))),legend.append("text").attr("x",18).attr("y",10).text((d=>d.key));"sequence"===options.placeItems?(()=>{let totalWidth=0;svg.selectAll(".legend"),svg.selectAll(".legend").nodes().forEach(((node,i)=>{const x=totalWidth,width=node.getBoundingClientRect().width;totalWidth+=width+10,d3.select(node).attr("transform","translate("+offsetX+x+","+offsetY+")")}))})():(legend.attr("transform",((_,i)=>"translate("+i%4*itemWidth+","+Math.floor(i/4)*itemHeight+")")),legend.selectAll("rect,text").attr("transform","translate("+offsetX+","+offsetY+")")),legend.transition().duration(500).delay(((d,i)=>1300+100*i)).style("opacity","1")}},"./trident/libs/ux-charts/src/lib/fabric-pie-chart/fabric-pie-chart.ts":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.registerFabricPieChart=exports.FabricPieChart=void 0;const colors_1=__webpack_require__("./trident/libs/ux-charts/src/lib/colors.ts"),fabric_legend_1=__webpack_require__("./trident/libs/ux-charts/src/lib/fabric-legend/fabric-legend.ts"),margins_1=__webpack_require__("./trident/libs/ux-charts/src/lib/positioning/margins.ts");class FabricPieChart extends HTMLElement{constructor(){super(...arguments),this.margin=margins_1.Margins.PieChart,this._data=[],this._options={}}get widthMargin(){return this.margin.left+this.margin.right}get heightMargin(){return this.margin.top+this.margin.bottom}get pieHeight(){return"semi"===this.options.arcType?this.chartHeight:this.chartHeight/2}get pieWidth(){return this.width/2}set data(value){this._data=value,this.redraw()}get data(){return this._data}get options(){return this._options}set options(options){this._options=options,this.redraw()}connectedCallback(){const style=document.createElement("style");style.textContent=`\n            .fabric-pie-graph {\n                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n                font-size: 12px;\n                font-weight: 400;\n                color: ${colors_1.Colors.NeutralWebGrey160};\n                margin: 0;\n                padding: 0;\n            }\n\n            .fabric-pie-graph .legend {\n                fill: ${colors_1.Colors.NeutralWebGrey160};\n                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n                font-size: 12px;\n            }\n        `,this.wrapper=document.createElement("figure"),this.wrapper.setAttribute("class","fabric-pie-graph"),this.appendChild(style),this.appendChild(this.wrapper),window.addEventListener("resize",(()=>this.redraw())),this.redraw()}redraw(){this.width=this.parentElement.clientWidth-this.widthMargin,this.height=this.parentElement.clientHeight-this.heightMargin,this.chartHeight=this.options.legend?this.height-20:this.height,this.wrapper.innerHTML="",this.createSvg(this.wrapper),this.drawArcs(this.data)}createSvg(wrapper){const PositionAtCenterOfRadius=`translate(${this.pieWidth},${this.pieHeight})`;this.svg=d3.select(wrapper).append("svg").attr("width",this.width+this.widthMargin).attr("height",this.height+this.heightMargin).data([this.data]).append("g").attr("transform",PositionAtCenterOfRadius)}drawArcs(data){const radius=Math.min(this.pieWidth,this.pieHeight),arcInnerSizeRadius="donut"===this.options.pieType?"semi"===this.options.arcType?radius-50:radius-30:5,labelRadiusAnchor=radius+5,arc=d3.arc().cornerRadius(3).padAngle(.02).innerRadius(arcInnerSizeRadius).outerRadius(radius-20),color=d3.scaleOrdinal(colors_1.BarsDataRange),pie=d3.pie().value((d=>d.value));"semi"===this.options.arcType&&pie.startAngle(Math.PI/180*-90).endAngle(Math.PI/180*90);const arcs=this.svg.selectAll(".slice").data(pie).enter().append("g").attr("transform","translate(25,0)").attr("class","slice");arcs.append("path").attr("fill",(d=>color(d.data.key))).attr("d",arc).transition().duration(1e3).attrTween("d",(d=>t=>{const interpolate=d3.interpolate({startAngle:0,endAngle:0},d);return arc(interpolate(t))}));if(arcs.append("text").attr("class","value-label").attr("fill","grey").attr("transform",(d=>{const c=arc.centroid(d),xp=c[0],yp=c[1],hp=Math.sqrt(xp*xp+yp*yp);return"translate("+xp/hp*labelRadiusAnchor+","+yp/hp*labelRadiusAnchor+")"})).attr("text-anchor","middle").append("tspan").text(((d,i)=>data[i].value+(this.options.valuePostfix||""))).attr("x","0").attr("dy","1.2em"),this.options.legend){const offsetX=-this.pieWidth+this.margin.left;(0,fabric_legend_1.createLegend)({svg:this.svg,data,options:this.options.legend,color,offsetX,offsetY:this.chartHeight-this.pieHeight+10})}}}exports.FabricPieChart=FabricPieChart,exports.registerFabricPieChart=function registerFabricPieChart(){void 0===customElements.get("fabric-pie-chart")&&customElements.define("fabric-pie-chart",FabricPieChart)}},"./trident/libs/ux-charts/src/lib/injec-load-script.ts":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.injectLoadScript=void 0;const tslib_1=__webpack_require__("./node_modules/.pnpm/tslib@2.3.0/node_modules/tslib/tslib.es6.js"),common_1=__webpack_require__("./node_modules/.pnpm/@angular+common@16.2.12_@angular+core@16.2.12_rxjs@6.6.7/node_modules/@angular/common/fesm2022/common.mjs"),core_1=__webpack_require__("./node_modules/.pnpm/@angular+core@16.2.12_rxjs@6.6.7_zone.js@0.13.0/node_modules/@angular/core/fesm2022/core.mjs");exports.injectLoadScript=cb=>{let HeroListComponent=class HeroListComponent{constructor(){}ngOnInit(){cb()}};return HeroListComponent.ctorParameters=()=>[],HeroListComponent=tslib_1.__decorate([(0,core_1.Component)({standalone:!0,selector:"load-script",template:"",imports:[common_1.CommonModule]}),tslib_1.__metadata("design:paramtypes",[])],HeroListComponent),HeroListComponent}},"./trident/libs/ux-charts/src/lib/mock-data.ts":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.ItemsByType=exports.MockLabelsPerItem=exports.MockTagsPerItem=exports.MockEndorsementData=void 0,exports.MockEndorsementData=[{key:"Master Data",value:10,Released:"2014"},{key:"Certified",value:20,Released:"2013"},{key:"Promoted",value:38,Released:"2016"},{key:"None",value:100,Released:"2010"}],exports.MockTagsPerItem=[{key:"FY2025",value:2,Released:"2014"},{key:"L100",value:11,Released:"2013"},{key:"Q4-2024",value:8,Released:"2016"},{key:"Planning-Q3",value:17,Released:"2010"},{key:"Conf-OCt-2024",value:1,Released:"2010"},{key:"No tag",value:95,Released:"2010"}];exports.MockLabelsPerItem=[{key:"Semantic Model",group:"General",value:5},{key:"Semantic Model",group:"Confidential",value:1},{key:"Semantic Model",group:"Highly Confidential",value:1},{key:"Report",group:"General",value:3},{key:"Report",group:"Confidential",value:0},{key:"Report",group:"Highly Confidential",value:1},{key:"Lakehouse",group:"General",value:2},{key:"Lakehouse",group:"Confidential",value:5},{key:"Lakehouse",group:"Highly Confidential",value:1}].reduce(((acc,item)=>{const existing=acc.find((x=>x.key===item.key));return existing?existing.values.push({name:item.group,value:item.value}):acc.push({key:item.key,values:[{name:item.group,value:item.value}]}),acc}),[]),exports.ItemsByType=[{key:"Reports",value:50},{key:"Semantic models",value:35},{key:"Dashboard",value:15},{key:"Lakehouse",value:7},{key:"SQL analytics endpoint",value:5},{key:"Dataflows",value:5},{key:"Warehouse",value:3}]},"./trident/libs/ux-charts/src/lib/positioning/margins.ts":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.Margins=void 0,exports.Margins={BarChart:{top:10,right:0,bottom:20,left:30},PieChart:{top:10,right:0,bottom:20,left:30},ScoreCard:{top:10,right:0,bottom:10,left:0}}}}]);